# 鉄道から学ぶアーキテクチャ #3

## テーマ

衝突を防ぐ仕組み — 信号機とダイヤグラム

## 狙い

- 初学者が躓きやすい「並行処理」「非同期」を視覚的に理解する
- 排他制御（Lock）の必要性を腹落ちさせる
- 同期処理と非同期処理の違いを明確にする
- エラーハンドリングとUXの関係を学ぶ

## 日時

2026-02-03

## 資料

- [スライド](./slides.md)

## 構成（約30分）

1. **もし信号機がなかったら？** (5分)
   - 複数の列車が同じレールに突っ込む＝データ破損
   - 排他制御（Lock）：閉塞区間には1回に1つの列車しか入れない

2. **ダイヤグラム（同期 vs 非同期）** (10分)
   - 同期処理：切符売り場に行列ができる状態
   - 非同期（キュー）：改札を通ってホームで待つ状態
   - RabbitMQやKafkaは巨大な「操車場」

3. **遅延の伝播** (10分)
   - 1つの列車の遅れが、なぜ全線に波及するのか？
   - ブロッキングの影響とタイムアウトの重要性

4. **落とし穴** (5分)
   - 絶対に止まらないシステムは作れない
   - 大事なのは「止まった時にどう復旧するか」と「アナウンス」
   - ユーザーは「エラー」より「わからない」を嫌う

## Key Takeaways

1. **信号機がないと衝突する** — 排他制御の必要性
2. **行列より待合室** — 非同期処理の価値
3. **アナウンスがあればストレス半減** — エラーハンドリングとUX

## 参照URL

-

## 実行手順

```bash
npx @marp-team/marp-cli slides.md --preview
```
